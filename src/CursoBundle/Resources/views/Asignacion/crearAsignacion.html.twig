{% extends 'base_page.html.twig' %}

{% block body_content %}

	{# formulario del buscador de cursos #}
    {{
        form_start(
            buscarCurso,
            {'action': path('asignar_curso_nuevo'), 'method': 'POST'},
            {'attr': {'novalidate': 'novalidate', 'class':'form-control'}}
        )
    }}

    {{ form_row(buscarCurso.curso) }}
    {{ form_end(buscarCurso) }}
    {# termina formulario del buscador de cursos #}
    <a href="{{ path('contact')}}" class="btn btn-success btn-xs">¿No aparece el curso que buscabas? Solícitalo aquí</a>

   	{# tabla que muestra todos los cursos disponibles #}
    <h1>Cursos Disponibles</h1>
	<table class = "table table-striped table-hover">
		<thead>
			<tr>
				<th>Curso		</th>
				<th>Año			</th>
				<th>Facultad	</th>
				<th>Carrera     </th>
				<th>Catedrático</th>
				<th>Acción		</th>
			</tr>
			
			
			<script type="text/javascript"> //Javascript para asignar curso

  				function dobleClick(e) //
  				{
    					
    					e.preventDefault(); // previene el doble click
  				}

			</script>

		</thead>
		<tbody>
			{% for curso in cursos %}
			<tr>
				<td> {{ curso.nombreCurso }} </td>
				<td> {{ curso.year }} </td>
				<td> {{ curso.carreras.facultad }} </td>
				<td> {{ curso.carreras }} </td>
				<td> {{ curso.cursoCreadoPor}} </td>
				<td> 
					<a class= "btn btn-default btn-xs btn-warning"  onclick="this.addEventListener('click', dobleClick, false);" href="{{ path('add_asignacion', {'curso_id':curso.id}) }}">
						Asignar Curso
					</a>
				</td>
			</tr>	
			{% endfor %}
		</tbody>
	</table>
	 
	
	
{% endblock %}
