{% extends 'base_page.html.twig' %}

{% block body_content %}

	{# formulario del buscador de cursos #}
    {{
        form_start(
            buscarCurso,
            {'action': path('buscar_cursos'), 'method': 'POST'},
            {'attr': {'novalidate': 'novalidate', 'class':'form-control'}}
        )
    }}
	<div class="row">
		<div class="col-xs-12 col-sm-6 col-md-6">
      <div class="form-group">
              {{ form_row(buscarCurso.curso) }}
      </div>
    </div>
    <div class="col-xs-12 col-sm-6 col-md-6">
      <div class="form-group">
              {{ form_row(buscarCurso.carreras) }}
      </div>
    </div>
   
  </div>

  <div class="row">
  	 <div class="col-xs-12 col-sm-6 col-md-6">
      <div class="form-group">
          {{ form_row(buscarCurso.catedratico) }}
      </div>
    </div>
    <div class="col-xs-12 col-sm-6 col-md-6">
      <div class="form-group">
              {{ form_row(buscarCurso.periodo) }}
      </div>
    </div>
    </div>
  
  <div class="row">
  	<div class="col-xs-12 col-sm-6 col-md-6">
      <div class="form-group">
          {{ form_row(buscarCurso.year) }}
      </div>
    </div>
    <div class="col-xs-12 col-sm-6 col-md-6">
      <div class="form-group">
          {{ form_row(buscarCurso.sede) }}
      </div>
   </div>
  </div>
    
    {{ form_end(buscarCurso) }}
    {# termina formulario del buscador de cursos #}
    

   	{# tabla que muestra todos los cursos disponibles #}
    <h1>Cursos Disponibles</h1>
    <table class = "table table-striped table-hover">
		<thead>
			<tr>
				<th>Curso		</th>
				<th>Carrera     </th>
				<th>Catedrático</th>
				<th>Período		</th>
				<th>Sede        </th>
				<th>Año			</th>
				<th>Acción		</th>
			</tr>
			
			
			<script type="text/javascript"> //Javascript para asignar curso

  				function dobleClick(e) //
  				{
    					
    					e.preventDefault(); // previene el doble click
  				}

			</script>

		</thead>
		<tbody>
			{% for curso in cursos %}
			<tr>
				<td> {{ curso.nombreCurso }} </td>	
				<td> {{ curso.carreras }} </td>
				<td> {{ curso.cursoCreadoPor}} </td>
				<td> {{ curso.periodo }} </td>
				<td> {{ curso.sede }} </td>
				<td> {{ curso.year }} </td>
				
				<td> 
					<a class= "btn btn-default btn-xs btn-warning"  onclick="this.addEventListener('click', dobleClick, false);" href="{{ path('add_asignacion', {'curso_slug':curso.slug}) }}">
						Asignar Curso
					</a>
				</td>
			</tr>	
			{% endfor %}
		</tbody>
	</table>
	 
	
	
{% endblock %}
